<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ticket</title>
  <link rel="stylesheet" href="./assets/css/style.css" />
  <link rel="icon" type="image/png" href="./assets/icon/favicon.png">
</head>

<body>

  <div class="main">

    <div class="left-container">

      <div class="top">
        <a href="#" class="button-text" id="createbutton" style="height: 92px;">
          <img class="icon" src="./assets/icon/icon thin.png" alt="">
          <span class="text">Nouveau tickets</span>
        </a>

        <div class="button">
          <a href="#" class="button-text" id="codebutton">
            <img class="icon" src="./assets/icon/key.png" alt="">
            <span class="text">*****</span>
          </a>
          <a href="#" class="button-simple" id="logout">
            <img class="icon" src="./assets/icon/logout.png" alt="">
          </a>
          <a href="#" class="button-simple" id="setting">
            <img class="icon" src="./assets/icon/Settings.png" alt="">
          </a>
        </div>
      </div>

      <p class="div" id="message"> a finir avant 11h30 !</p>

      <div class="menu-overlay" id="formOverlay" style="display: none;">
        <div class="menu-box">
          <h1 id="lefttitle">Nouveau ticket</h1>
          <div class="input">
            <input type="text" id="name" name="name" placeholder="Nom" />

          
            <div class="file-upload-container" id="fileUploadContainer">
              <input type="file" id="fileInput" multiple>
              <div class="file-drop-area" id="dropArea">
                <span class="file-placeholder">+ Ajouter un fichier</span>
              </div>
              
              <div id="uploadProgressContainer" class="upload-status-container"></div>
              <p id="uploadWarning" class="upload-warning">⚠️ Upload en cours... Si vous fermez, ça annule !</p>
            </div>
            <input type="text" id="infos" name="infos" placeholder="Description (optionnelle)" />

            <div class="coloor">
              <h1>Couleurs</h1>
              <div class="colorbox">
                <a class='color selected' id="default" style="background-color: #cdcdcd;"></a>
                <a class="color"
                  style="background-image: linear-gradient(to right top, #ff7070, #ff796f, #ff816f, #ff896f, #ff9170);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #ffd760, #fde05a, #f9ea56, #f3f552, #ebff51);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #79e056, #71e76a, #6aee7e, #62f591, #5bfba3);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #61ffb8, #4fffcf, #47fee2, #4efcf3, #61faff);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #61b5ff, #5aa5fd, #5d93f8, #6880f1, #776be5);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #c0acff, #bd9aff, #be87ff, #c171fe, #c657f9);"></a>
                <a class='color'
                  style="background-image: linear-gradient(to right top, #ff99f8, #fe84ea, #fd6ddb, #fc53ca, #fb30b8);"></a>
              </div>
            </div>

            <div class="button" style="justify-content: center; margin-top: 20px; gap: 10px;">
              <a class="button-text" id='create' href='#' style="max-width: 150px">
                <img class="icon" src="./assets/icon/add.png">
                <span class="text">Créer</span>
              </a>
              <a class="button-text" id='deleteAnnonce' href='#'
                style="max-width: 150px; background-color: #ff7070; display: none;">
                <img class="icon" src="./assets/icon/delete.png">
                <span class="text">Supprimer</span>
              </a>
            </div>

          </div>
        </div>
      </div>

      <div class="menu-overlay" id="settingsOverlay" style="display: none;">
        <div class="menu-box">
          <div class="input">
            <h1>Paramètres</h1>

            <h2 style="text-align: left; margin-top: 20px;">Apparence</h2>
            <div style="display: flex; justify-content: space-between; align-items: center; margin: 15px 0;">
              <span>Mode Sombre (Betâ)</span>
              <label>
                <input type="checkbox" class="toggle-checkbox" id="darkModeToggle">
                <span class="toggle-slider"></span>
              </label>
            </div>

            <h2 style="text-align: left; margin-top: 20px;">Room</h2>
            <p style="font-size: 14px; opacity: 0.7; margin-bottom: 10px;">Partage ce lien avec ton équipe :</p>

            <div class="button">
              <a class="button-text" id="copyLink" href="#" style="min-height: 60px; padding: 0 20px;">
                <img class="icon" src="./assets/icon/icon thin.png" alt="" style="width: 24px; height: 24px;">
                <span class="text" id="copyText">Copier le lien d'invitation</span>
              </a>
            </div>

            <div class="button" style="margin-top: 30px; justify-content: center;">
              <a class="button-text" id="closeSettings" href="#" style="max-width: 150px">
                <img class="icon" src="./assets/icon/check.png" alt="">
                <span class="text">Fermer</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="menu-overlay" id="logoutOverlay" style="display: none;">
        <div class="menu-box" style="max-width: 400px;">
          <div class="input">
            <h1>Déconnexion ?</h1>
            <p style="margin: 20px 0; opacity: 0.7;">Tu devras rentrer le code de la room pour revenir.</p>

            <div class="button" style="flex-direction: column; gap: 15px; align-items: center;">

              <a class="button-text" id="confirmLogout" href="#" style="max-width: 150px; background-color: #ff7070;">
                <img class="icon" src="./assets/icon/logout.png" alt="" style="width: 24px; height: 24px;">
                <span class="text">Oui, partir</span>
              </a>

              <a class="button-text" id="cancelLogout" href="#" style="max-width: 150px">
                <img class="icon" src="./assets/icon/logout.png" alt="" style="width: 24px; height: 24px;">
                <span class="text">Non, rester</span>
              </a>

            </div>
          </div>
        </div>
      </div>

      <div class="div" id="subdiv">
        <h1>Historique</h1>
      </div>
    </div>

    <div class="div" id="right">
      <h1>Ticket en cours</h1>
      <div class="during" id="ID" style="background-color: #ffb7b7;">
        <div class="checkbox"></div>
        <div class="info">
          <p id="name">Charly Chartreux</p>
          <p id="desc">Developper</p>
        </div>
        <div class="time">
          <p id="created">00:00</p>
          <p id="remaining">(0 mins)</p>
        </div>
      </div>
      <div class="during" id="ID" style="background-color: #d35edd;">
        <div class="checkbox"></div>
        <div class="info">
          <p id="name">Ethan Caillat</p>
          <p id="desc">Designer</p>
        </div>
        <div class="time">
          <p id="created">00:00</p>
          <p id="remaining">(0 mins)</p>
        </div>
      </div>
    </div>
  </div>

  <script src="./assets/js/darkmode.js"></script>
  <script>
    document.getElementById("default").classList.add('selected');
    document.querySelectorAll('.colorbox .color').forEach(a => {
      a.addEventListener('click', e => {
        document.querySelectorAll('.colorbox .color').forEach(el => el.classList.remove('selected'));
        a.classList.add('selected');
      });
    });
  </script>

  <script src="./assets/js/room.js"></script>
</body>

</html>